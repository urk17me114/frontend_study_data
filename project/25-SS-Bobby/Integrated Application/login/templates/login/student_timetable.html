<!DOCTYPE html>
<html>
<head>
    <title>Student Timetable</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">Timetable for Grade {{ student_class }}</h2>

        <!-- Optional Day Filter -->
        <form method="get" class="mb-3">
            <label for="day">Filter by Day:</label>
            <select name="day" id="day" onchange="this.form.submit()">
                <option value="">All Days</option>
                {% for d in days %}
                    <option value="{{ d }}" {% if selected_day == d %}selected{% endif %}>{{ d }}</option>
                {% endfor %}
            </select>
        </form>

        {% if entries %}
            <table class="table table-bordered table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>Day</th>
                        <th>Period</th>
                        <th>Subject</th>
                        <th>Teacher</th>
                        <th>Room</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in entries %}
                        <tr>
                            <td>{{ entry.timeslot.day }}</td>
                            <td>P{{ entry.timeslot.period }}</td>
                            <td>{{ entry.subject.name }}</td>
                            <td>{{ entry.teacher.name }}</td>
                            <td>{{ entry.room.name }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <div class="alert alert-warning">
                No timetable entries found for this class.
            </div>
        {% endif %}
    </div>
</body>
</html>
